# ============================================
# KVR - KeyVault Registry Configuration
# ============================================

# Server
PORT=4000
HOST=0.0.0.0
NODE_ENV=development
API_PREFIX=/api/v1

# Database (mesmo do OrchestratorAI)
DATABASE_URL="postgresql://user:password@localhost:5432/orchestrator_db?schema=public"

# JWT Local
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=kvr

# Auth Mode: 'local' | 'tah' | 'dual'
AUTH_MODE=dual

# TAH (Tenant Access Hub) Configuration
TAH_ENABLED=false
TAH_ISSUER=https://tah.yourdomain.com
TAH_JWKS_URL=https://tah.yourdomain.com/.well-known/jwks.json
TAH_AUDIENCE=kvr
TAH_APP_ID=kvr
TAH_JWKS_CACHE_TTL=3600
TAH_CLOCK_TOLERANCE=30
TAH_PUBLIC_KEY=

# Shadow Users (TAH)
TAH_CREATE_SHADOW_USER=true
TAH_SYNC_ON_LOGIN=true
TAH_DEFAULT_ROLE=USER

# Feature Flags
API_KEY_AUTH_ENABLED=true
LOG_AUTH_EVENTS=true
REQUIRE_ORG_CONTEXT=false

# Development Auth Bypass (NEVER use in production!)
DEV_AUTH_BYPASS=false
DEV_USER_ID=dev-user
DEV_USER_EMAIL=dev@example.com
DEV_USER_ROLE=ADMIN
DEV_ORG_ID=

# CORS Configuration
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# Logging
LOG_LEVEL=info
